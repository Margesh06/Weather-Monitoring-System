{"ast":null,"code":"// src/components/DailySummaryForm.jsx\nimport React,{useState}from'react';import{calculateDailySummary}from'../services/apiService';import'../styles/daily.css';// Importing the CSS file\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DailySummaryForm=()=>{const[date,setDate]=useState('');const[summaries,setSummaries]=useState([]);const[error,setError]=useState('');const[loading,setLoading]=useState(false);// New loading state\nconst handleSubmit=async e=>{e.preventDefault();setError('');setSummaries([]);setLoading(true);// Set loading to true when submitting the form\ntry{const data=await calculateDailySummary(date);// Fetch summaries for all cities\nsetSummaries(data);}catch(err){setError('Failed to calculate daily summary. Please try again.');}finally{setLoading(false);// Set loading to false when done\n}};return/*#__PURE__*/_jsxs(\"div\",{className:\"daily-summary-form\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"form-title\",children:\"Daily Weather Summary\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"summary-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:date,onChange:e=>setDate(e.target.value),required:true,className:\"date-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"calculate-button\",children:\"Calculate Summary\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-results\",children:[loading&&/*#__PURE__*/_jsx(\"p\",{className:\"loading-message\",children:\"Loading...\"}),\" \",!loading&&summaries.length>0&&summaries.map((summary,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"summary-result\",children:summary.message?/*#__PURE__*/_jsxs(\"p\",{className:\"no-data-message\",children:[\"No data available for \",summary.city,\" on \",new Date(date).toLocaleDateString(),\".\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"city-summary-title\",children:[\"Summary for \",summary.city,\" on \",new Date(summary.date).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Average Temperature:\"}),\" \",summary.avg_temp.toFixed(2),\"\\xB0C\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Maximum Temperature:\"}),\" \",summary.max_temp,\"\\xB0C\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Minimum Temperature:\"}),\" \",summary.min_temp,\"\\xB0C\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Dominant Condition:\"}),\" \",summary.dominant_condition]})]})},index))]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error})]});};export default DailySummaryForm;","map":{"version":3,"names":["React","useState","calculateDailySummary","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DailySummaryForm","date","setDate","summaries","setSummaries","error","setError","loading","setLoading","handleSubmit","e","preventDefault","data","err","className","children","onSubmit","type","value","onChange","target","required","length","map","summary","index","message","city","Date","toLocaleDateString","avg_temp","toFixed","max_temp","min_temp","dominant_condition"],"sources":["C:/Users/MARGESH/OneDrive/Desktop/zeotap/Real Time Weather/weather-monitoring-system/frontend/src/components/DailySummary.jsx"],"sourcesContent":["// src/components/DailySummaryForm.jsx\r\nimport React, { useState } from 'react';\r\nimport { calculateDailySummary } from '../services/apiService';\r\nimport '../styles/daily.css'; // Importing the CSS file\r\n\r\nconst DailySummaryForm = () => {\r\n    const [date, setDate] = useState('');\r\n    const [summaries, setSummaries] = useState([]);\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false); // New loading state\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        setSummaries([]);\r\n        setLoading(true); // Set loading to true when submitting the form\r\n\r\n        try {\r\n            const data = await calculateDailySummary(date); // Fetch summaries for all cities\r\n            setSummaries(data);\r\n        } catch (err) {\r\n            setError('Failed to calculate daily summary. Please try again.');\r\n        } finally {\r\n            setLoading(false); // Set loading to false when done\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"daily-summary-form\">\r\n            <h2 className=\"form-title\">Daily Weather Summary</h2>\r\n            <form onSubmit={handleSubmit} className=\"summary-form\">\r\n                <input\r\n                    type=\"date\"\r\n                    value={date}\r\n                    onChange={(e) => setDate(e.target.value)}\r\n                    required\r\n                    className=\"date-input\"\r\n                />\r\n                <button type=\"submit\" className=\"calculate-button\">Calculate Summary</button>\r\n            </form>\r\n\r\n            <div className=\"summary-results\">\r\n                {loading && <p className=\"loading-message\">Loading...</p>} {/* Show loading message */}\r\n                \r\n                {!loading && summaries.length > 0 && summaries.map((summary, index) => (\r\n                    <div key={index} className=\"summary-result\">\r\n                        {summary.message ? (\r\n                            <p className=\"no-data-message\">\r\n                                No data available for {summary.city} on {new Date(date).toLocaleDateString()}.\r\n                            </p>\r\n                        ) : (\r\n                            <>\r\n                                <h3 className=\"city-summary-title\">Summary for {summary.city} on {new Date(summary.date).toLocaleDateString()}</h3>\r\n                                <p><strong>Average Temperature:</strong> {summary.avg_temp.toFixed(2)}°C</p>\r\n                                <p><strong>Maximum Temperature:</strong> {summary.max_temp}°C</p>\r\n                                <p><strong>Minimum Temperature:</strong> {summary.min_temp}°C</p>\r\n                                <p><strong>Dominant Condition:</strong> {summary.dominant_condition}</p>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {error && <p className=\"error\">{error}</p>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DailySummaryForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}